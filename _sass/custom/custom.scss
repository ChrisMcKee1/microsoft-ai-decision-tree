// Custom styles to optimize layout for large monitors
// Aggressive space utilization - minimize all padding and maximize content area

// BODY - Configure as flex container for proper sidebar + main layout
body {
  display: flex !important;
  flex-direction: row !important;
  min-height: 100vh !important;
}

// MAIN CONTENT - Use maximum width available
.main-content {
  max-width: none !important; // Remove default 800px limit
  width: 100% !important; // Use full available width
  padding-left: 1rem !important; // Minimal left padding
  padding-right: 0.5rem !important; // Even less right padding to reach edge
  margin-left: 0 !important;
  margin-right: 0 !important;
}

// MAIN CONTENT WRAPPER - Remove extra padding
.main-content-wrap {
  max-width: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// PAGE WRAPPER - Remove margins
.page {
  max-width: none !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

// MAIN DIV - Use flexbox to fill remaining space
.main,
#top,
div.main#top {
  flex: 1 1 auto !important; // Grow to fill remaining space after sidebar
  max-width: none !important;
  width: auto !important;
  margin-left: 0 !important; // No margin needed - flexbox handles layout
  margin-right: 0 !important;
  padding-right: 0 !important;
  padding-left: 0 !important;
  overflow-x: auto !important; // Handle overflow properly
  order: 0 !important; // Ensure main comes after sidebar (order: -1)
  position: relative !important; // Override any absolute positioning
}

// SIDEBAR - Fixed width, no flex growth
.side-bar {
  flex: 0 0 200px !important; // Fixed at 200px, don't grow or shrink
  width: 200px !important;
  padding-left: 0.5rem !important; // Minimal left padding
  padding-right: 0.5rem !important; // Minimal right padding
  padding-top: 0.25rem !important; // Reduce top padding to move content up
  padding-bottom: 0 !important; // Remove bottom padding
  order: -1 !important; // Ensure sidebar appears first (left side)
  position: relative !important; // Override any absolute positioning
}

// SITE TITLE - Minimal padding, move up
.site-title {
  padding-left: 0.5rem !important; // Small left padding for alignment
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

// SITE LOGO - Consistent with title
.site-logo {
  padding-left: 0.5rem !important;
}

// SITE HEADER (in sidebar) - Remove padding and move up
.site-header {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
  padding-top: 0.5rem !important;
  margin-top: 0 !important;
}

// REMOVE TOP PADDING from main content
.main-content {
  padding-top: 1rem !important;
}

// TOP HEADER BAR (search + view on github) - Remove all padding
.main-header {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.site-nav,
.main-content-wrap > .site-header {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// SITE NAV - Remove all padding (#site-nav)
#site-nav {
  padding: 0 !important;
  margin: 0 !important;
}

// NAVIGATION - Tighter spacing
.nav-list {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

.nav-list .nav-list-item {
  margin: 0.25rem 0 !important;
}

// NAVIGATION LINKS - Remove excessive padding
.nav-list .nav-list-item > a {
  padding: 0.25rem 0.5rem !important; // Minimal padding instead of 32px
}

// SEARCH BAR - Reduce padding
.search {
  padding: 0.5rem !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

.search-input-wrap,
.search-input {
  margin-left: 0 !important;
  margin-right: 0 !important;
}

// Search results
.search-results {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
}

// BREADCRUMBS - Minimize space
.breadcrumb-nav {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  padding-left: 0 !important;
}

// PAGE HEADER - Remove excessive padding
.page-header {
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// TITLES - Reduce spacing
.main-content h1:first-of-type {
  margin-top: 0.5rem !important;
}

.main-content h1,
.main-content h2,
.main-content h3 {
  margin-top: 1.5rem !important;
  margin-bottom: 0.75rem !important;
}

// ENHANCED HEADING STYLES FOR PHASES AND QUESTIONS
// Phase headers (h3) - Make them prominent with background and borders
.main-content h3 {
  background: linear-gradient(135deg, rgba(79, 70, 229, 0.15) 0%, rgba(99, 102, 241, 0.08) 100%) !important;
  border-left: 4px solid #6366f1 !important;
  padding: 1rem 1.25rem !important;
  margin-top: 2.5rem !important;
  margin-bottom: 1.25rem !important;
  border-radius: 6px !important;
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: #e0e0ff !important;
  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.15) !important;
}

// Question headers (h4) - Distinctive styling with icon-like appearance
.main-content h4 {
  background: rgba(139, 92, 246, 0.12) !important;
  border-left: 3px solid #8b5cf6 !important;
  padding: 0.75rem 1rem !important;
  margin-top: 1.75rem !important;
  margin-bottom: 1rem !important;
  border-radius: 4px !important;
  font-size: 1.15rem !important;
  font-weight: 600 !important;
  color: #ddd6fe !important;
  box-shadow: 0 1px 4px rgba(139, 92, 246, 0.1) !important;
}

// Special styling for "Decision Gate" and "Decision Criteria" headers
.main-content h4:contains("Decision"),
.main-content h4[id*="decision"] {
  background: rgba(236, 72, 153, 0.12) !important;
  border-left-color: #ec4899 !important;
  color: #fce7f3 !important;
}


// PARAGRAPHS - Tighter spacing
.main-content p {
  margin-bottom: 0.75rem !important;
  line-height: 1.7 !important;
}

// Enhanced styling for decision path paragraphs (bold questions with arrows)
.main-content p strong {
  color: #a5b4fc !important; // Brighter indigo for questions
  font-weight: 600 !important;
}

// Paragraphs immediately after h4 headings (decision paths)
.main-content h4 + p {
  margin-top: 0.5rem !important;
  padding-left: 1rem !important;
  border-left: 2px solid rgba(139, 92, 246, 0.3) !important;
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
}

// LISTS - Reduce spacing and improve hierarchy
.main-content ul,
.main-content ol {
  margin-bottom: 0.75rem !important;
  padding-left: 1.5rem !important;
}

// List items with better spacing
.main-content li {
  margin-bottom: 0.5rem !important;
  line-height: 1.6 !important;
}

// Nested lists
.main-content ul ul,
.main-content ol ul,
.main-content ul ol,
.main-content ol ol {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  padding-left: 1.25rem !important;
}

// List items under h4 headings (like the dimension questions)
.main-content h4 + ul,
.main-content h4 + ol {
  background: rgba(100, 100, 100, 0.05) !important;
  padding: 1rem 1rem 1rem 2rem !important;
  border-radius: 4px !important;
  margin-top: 0.75rem !important;
  margin-bottom: 1rem !important;
}

// Arrow symbol styling in decision paths
.main-content p:contains("→"),
.main-content li:contains("→") {
  color: #e0e0e0 !important;
}


// TABLES - Full width with professional styling
.main-content table {
  width: 100% !important;
  max-width: 100% !important;
  border-collapse: collapse !important;
  margin: 1.5rem 0 !important;
  font-size: 0.9rem !important;
  line-height: 1.5 !important;
}

// Table headers - bold and styled
.main-content table thead th {
  background-color: rgba(100, 100, 100, 0.15) !important;
  font-weight: 700 !important;
  text-align: left !important;
  padding: 0.75rem 1rem !important;
  border-bottom: 2px solid rgba(150, 150, 150, 0.3) !important;
  vertical-align: top !important;
}

// Table cells - consistent padding and alignment
.main-content table td {
  padding: 0.65rem 1rem !important;
  border-bottom: 1px solid rgba(150, 150, 150, 0.2) !important;
  vertical-align: top !important;
  text-align: left !important;
}

// Zebra striping for readability
.main-content table tbody tr:nth-child(even) {
  background-color: rgba(100, 100, 100, 0.05) !important;
}

// Hover effect for rows
.main-content table tbody tr:hover {
  background-color: rgba(100, 100, 100, 0.1) !important;
}

// SMART COLUMN WIDTHS based on content type

// 2-column tables (typically Name + Description)
.main-content table thead th:first-child:nth-last-child(2),
.main-content table thead th:first-child:nth-last-child(2) ~ th {
  &:first-child { width: 25% !important; } // Label/name column
  &:last-child { width: 75% !important; } // Description column
}

// 3-column tables (Feature/Extension | Description | Docs link)
.main-content table thead th:first-child:nth-last-child(3),
.main-content table thead th:first-child:nth-last-child(3) ~ th {
  &:nth-child(1) { width: 25% !important; } // Feature/Extension name
  &:nth-child(2) { width: 63% !important; } // Description (most content)
  &:nth-child(3) { width: 12% !important; } // Docs link (narrow)
}

// 4-column tables (Technology | Description | Capabilities | Docs link)
.main-content table thead th:first-child:nth-last-child(4),
.main-content table thead th:first-child:nth-last-child(4) ~ th {
  &:nth-child(1) { width: 22% !important; } // Technology name
  &:nth-child(2) { width: 28% !important; } // Description
  &:nth-child(3) { width: 38% !important; } // Key capabilities (most content)
  &:nth-child(4) { width: 12% !important; } // Docs link (narrow)
}

// 5+ column tables (compact even distribution with last column larger)
.main-content table thead th:first-child:nth-last-child(n+5),
.main-content table thead th:first-child:nth-last-child(n+5) ~ th {
  min-width: 120px !important; // Minimum width for readability
  &:last-child { width: auto !important; } // Last column gets remaining space
}

// Links in tables - make them visible
.main-content table a {
  color: #4a9eff !important; // Bright blue for dark mode
  text-decoration: none !important;
  &:hover {
    text-decoration: underline !important;
  }
}

// Bold text in tables
.main-content table strong,
.main-content table b {
  font-weight: 700 !important;
  color: #e0e0e0 !important; // Brighter in dark mode
}

// Code in tables
.main-content table code {
  background-color: rgba(150, 150, 150, 0.2) !important;
  padding: 0.2rem 0.4rem !important;
  border-radius: 3px !important;
  font-size: 0.85em !important;
}

// Ensure text wraps properly in cells
.main-content table td,
.main-content table th {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

// CODE BLOCKS - Full width
.main-content pre {
  max-width: 100% !important;
  margin: 0.75rem 0 !important;
}

// CODE INLINE - Better visibility
.main-content code {
  background-color: rgba(150, 150, 150, 0.25) !important;
  padding: 0.2rem 0.4rem !important;
  border-radius: 3px !important;
  font-size: 0.9em !important;
  color: #c7d2fe !important;
  border: 1px solid rgba(150, 150, 150, 0.3) !important;
}

// BLOCKQUOTES - Enhanced styling
.main-content blockquote {
  border-left: 4px solid #6366f1 !important;
  background: rgba(99, 102, 241, 0.08) !important;
  padding: 0.75rem 1rem !important;
  margin: 1rem 0 !important;
  border-radius: 4px !important;
}

// EMOJI AND ICONS - Better visibility
.main-content {
  // Emoji in lists
  li:first-child::before {
    font-size: 1.1em !important;
  }
}

// HORIZONTAL RULES - More visible separators
.main-content hr {
  border: 0 !important;
  height: 2px !important;
  background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.5), transparent) !important;
  margin: 2rem 0 !important;
}

// LINKS - Better contrast
.main-content a {
  color: #7dd3fc !important;
  text-decoration: none !important;
  border-bottom: 1px solid rgba(125, 211, 252, 0.3) !important;
  transition: all 0.2s ease !important;
  
  &:hover {
    color: #bae6fd !important;
    border-bottom-color: rgba(186, 230, 253, 0.6) !important;
  }
}

// EMPHASIS - Bold text needs to stand out more
.main-content strong,
.main-content b {
  font-weight: 700 !important;
  color: #f0f0f5 !important;
}


// FOOTER - Minimal spacing and hide theme credit
.site-footer {
  margin-top: 1.5rem !important;
  padding: 1rem !important;
}

// Hide "This site uses Just the Docs" text
.site-footer p {
  display: none !important;
}

// HIDE SIDEBAR FOOTER COMPLETELY (body > div.side-bar > footer)
.side-bar > footer,
.side-bar footer {
  display: none !important;
}

// REMOVE AUX LINKS PADDING
.aux-nav {
  padding-top: 0.5rem !important;
  padding-right: 0.5rem !important;
}

// Ensure content stretches to fill available space
@media (min-width: 50rem) {
  .side-bar {
    flex: 0 0 200px !important; // Keep sidebar at 200px
  }
  
  .main-content-wrap {
    max-width: none !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-right: 0 !important;
  }
}

@media (min-width: 66.5rem) {
  .side-bar {
    flex: 0 0 220px !important; // Increase to 220px on large screens
    width: 220px !important;
  }
}

// Remove default container constraints
.container,
.container-lg,
.container-xl {
  max-width: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// Override any wrapper divs adding padding
.site-nav,
.navigation,
.nav-category {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
}

// Remove extra spacing from nav list
.nav-list-item .nav-list {
  padding-left: 1rem !important; // Just enough for hierarchy
}

// Top-level page header in main content area
.main-content > .page-header {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

// Site wrapper - ensure proper layout
.site {
  padding-right: 0 !important;
  margin-right: 0 !important;
}

// Main wrapper - extend to full viewport
.wrap,
.wrapper {
  max-width: 100vw !important;
  padding-right: 0 !important;
  margin-right: 0 !important;
}
